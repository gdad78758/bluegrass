<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="assets/css/main.css?v=2026-02-13-2144">
	<title>Bluegrass &#8211; Bluegrass in Austin, Texas</title>
</head>
<body>
<main class="site">

    <div class="page-title-row">
        <h1>Silver Grass Band<br>Austin,&nbsp;TX</h1>
    </div>
    <div class="hero-container">
        <img class="hero" src="SGB 2025.jpeg" alt="The Silver Grass Band" />
        <a class="hero-contact" href="abouttheband.html">Bookings and Band Info</a>
    </div>

    <div class="full-player-container">
        <div class="full-player-controls">
            <select id="fullTrackSelect" class="select-placeholder" aria-label="Click to select a song"></select>
            <audio id="fullTrackPlayer" controls preload="metadata">
                Your browser does not support the audio element.
            </audio>
            <a id="fullTrackDownload" class="download-btn" href="#" download>Download track</a>
        </div>
    </div>

    <script>
        (function() {
            const tracks = [
                { file: 'notes/set_list/11-The Last Moonshiner.mp3', title: 'The Last Moonshiner', start: 2, end: 30 },
                { file: 'notes/set_list/14-Ghost Riders in the Sky.mp3', title: 'Ghost Riders in the Sky', start: 2, end: 30 },
                { file: 'notes/set_list/01-Angeline the Baker.mp3', title: 'Angeline the Baker', start: 0, end: 30 },
                { file: 'notes/set_list/02-Blue Ridge Cabin Home.mp3', title: 'Blue Ridge Cabin Home', start: 2, end: 30 },
                { file: 'notes/set_list/03-Foggy Mountain Special.mp3', title: 'Foggy Mountain Special', start: 0, end: 30 }
            ];

            function initFullPlayer() {
                const fullSelect = document.getElementById('fullTrackSelect');
                const fullPlayer = document.getElementById('fullTrackPlayer');
                const fullDownload = document.getElementById('fullTrackDownload');
                if (!fullSelect || !fullPlayer) return;

                if (fullDownload) {
                    fullDownload.setAttribute('aria-disabled', 'true');
                    fullDownload.addEventListener('click', function(event) {
                        if (fullDownload.getAttribute('aria-disabled') === 'true') {
                            event.preventDefault();
                        }
                    });
                }

                const placeholderOption = document.createElement('option');
                placeholderOption.value = '';
                placeholderOption.textContent = 'Click to select a song';
                placeholderOption.disabled = true;
                placeholderOption.selected = true;
                fullSelect.appendChild(placeholderOption);

                tracks.forEach(function(track, index) {
                    const option = document.createElement('option');
                    option.value = String(index);
                    option.textContent = track.title;
                    fullSelect.appendChild(option);
                });

                function setFullTrack(index) {
                    const selected = tracks[index];
                    if (!selected) return;
                    fullPlayer.src = selected.file;
                    fullPlayer.load();
                    if (fullDownload) {
                        fullDownload.href = selected.file;
                        fullDownload.setAttribute('download', selected.file.split('/').pop());
                        fullDownload.setAttribute('aria-label', 'Download ' + selected.title);
                        fullDownload.setAttribute('aria-disabled', 'false');
                    }

                    const playPromise = fullPlayer.play();
                    if (playPromise && typeof playPromise.catch === 'function') {
                        playPromise.catch(function() {
                            // Autoplay can be blocked by the browser; ignore and let the user press play.
                        });
                    }
                }

                fullSelect.addEventListener('change', function() {
                    if (!fullSelect.value) {
                        fullSelect.classList.add('select-placeholder');
                        return;
                    }
                    fullSelect.classList.remove('select-placeholder');
                    setFullTrack(Number(fullSelect.value));
                });
            }
            initFullPlayer();
        })();
    </script>

    <div class="video-panel">
		<div class="responsive-video">
            <iframe id="bandVideo" src="https://www.youtube.com/embed/h9tA-V3aryY?enablejsapi=1" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
		</div>

        <div class="video-chapters" aria-label="Video chapters">
            <select id="videoChapterSelect" class="select-placeholder" aria-label="Click to select a song">
                <option value="" selected disabled>Click to select a song</option>
                <option value="0">Christmas for Cowboys</option>
                <option value="225">Grandma Got Run Over by a Reindeer</option>
                <option value="456">Frosty the Snowman</option>
                <option value="592">Christmas in Texas</option>
                <option value="760">Merry Christmas From the Family</option>
                <option value="1047">Feliz Navidad</option>
                <option value="1178">Rockin' Around the Christmas Tree</option>
                <option value="1337">Have Yourself a Merry Little Christmas</option>
                <option value="1559">Here it is Christmastime</option>
                <option value="1795">Silver Bells</option>
                <option value="1952">Santa Claus is Coming to Town</option>
                <option value="2089">Silent Night</option>
                <option value="2343">Holly Jolly Christmas</option>
                <option value="2434">Winter Wonderland</option>
                <option value="2571">We Wish You a Merry Christmas</option>
            </select>
        </div>
    </div>

    <script>
        (function () {
            var chaptersSelect = document.getElementById('videoChapterSelect');
            var iframeId = 'bandVideo';
            var iframeEl = document.getElementById(iframeId);
            if (!chaptersSelect || !iframeEl) return;

            var player = null;
            chaptersSelect.addEventListener('change', function () {
                if (!chaptersSelect.value) {
                    chaptersSelect.classList.add('select-placeholder');
                    return;
                }
                chaptersSelect.classList.remove('select-placeholder');
                var seconds = Number(chaptersSelect.value);
                if (!isFinite(seconds)) return;

                // If the embedded player is ready, seek without leaving the page.
                if (player && typeof player.seekTo === 'function') {
                    player.seekTo(seconds, true);
                    if (typeof player.playVideo === 'function') player.playVideo();
                    return;
                }

                iframeEl.src = 'https://www.youtube.com/embed/h9tA-V3aryY?enablejsapi=1&start=' + seconds + '&autoplay=1';
            });

            function loadYouTubeIframeApiOnce() {
                if (window.YT && window.YT.Player) return;
                if (document.querySelector('script[src="https://www.youtube.com/iframe_api"]')) return;
                var tag = document.createElement('script');
                tag.src = 'https://www.youtube.com/iframe_api';
                tag.async = true;
                var firstScriptTag = document.getElementsByTagName('script')[0];
                firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
            }

            var previousReady = window.onYouTubeIframeAPIReady;
            window.onYouTubeIframeAPIReady = function () {
                if (typeof previousReady === 'function') previousReady();
                if (!window.YT || !window.YT.Player) return;
                player = new window.YT.Player(iframeId);
            };

            loadYouTubeIframeApiOnce();
        })();
    </script>

</main>

<a href="songs.html" class="gemini-logo-link" aria-label="Go to songs">
<img id="gemini-logo" class="gemini-logo-home" src="assets/GeminiCircleLogo.webp" alt="Gemini Logo">
</a>

</body>
</html>
